!function(e){var t=function(){function e(t,n,i){if(n=function(e,t){var n=document.createElement(e.element||"div");for(var i in void 0!==e.classes&&(n.className=e.classes),e.attributes)n.setAttribute(i,e.attributes[i]);for(var i in e.dattributes)n.setAttribute("data-"+i,e.dattributes[i]);return void 0!==e.content&&(n.textContent=e.content),n.setAttribute("data-name",t),void 0!==e.helper&&n.setAttribute("data-helper",e.helper),void 0!==e.repeat&&n.setAttribute("data-repeater",e.repeat),void 0!==e.bind&&n.setAttribute("data-bind",e.bind),n}(t,i),void 0!==t.children)for(var r in t.children){var a=e(t.children[r],a,r);n.appendChild(a)}return n}function n(e,t){for(var n,i,r=e,a=0;(n=r.indexOf("@"))>-1;)-1===(a=r.indexOf(" ",n))&&(a=r.length),i=r.substring(n,a),r=r.replace(i,t[i.substring(1)]);return r}function i(e,r,a,d){var s=e.cloneNode(!0);if(s.context=r,void 0===d){var l={};l.root=s}else l=d;function o(t){var a=t.getAttribute("data-name")+(r&&r.repeatKey?r.repeatKey:"");l[a]=t,t.ref=l,void 0!==r&&(t.context=r,r.repeatKey&&t.setAttribute("data-repeat-key",r.repeatKey),t=function(e,t){var i,r,a=e.getAttribute("dsrc");if(null!==a){var d=a.indexOf("@");e.removeAttribute("dsrc"),e.setAttribute("src",a.substring(0,d)+t[a.substring(d+1)])}for(var s=0,l=e.attributes.length;s<l;s++)(d=(r=(i=e.attributes[s]).nodeValue).indexOf("@"))>=0&&(i.nodeValue=r.substring(0,d)+t[r.substring(d+1)],"value"==i.nodeName&&(e.valueTemplate=r));var o=e.firstChild;return o&&void 0!==o&&3==o.nodeType&&o.textContent.indexOf("@")>-1&&void 0!==t&&(e.contentTemplate=o.textContent,o.textContent=n(o.textContent,t)),e}(t,r)),t.refresh=function(e=null){!function e(t,i){void 0!==t.firstChild&&null!==t.firstChild&&3==t.firstChild.nodeType&&void 0!==t.contentTemplate&&(t.firstChild.textContent=n(t.contentTemplate,i)),t.value&&t.valueTemplate&&(t.value=n(t.valueTemplate,i));for(var r=null!==t.getAttribute("data-repeater"),a=0;a<t.children.length;a++)e(t.children[a],r?i[a]:i)}(t,e=e||r)},t.rerender=function(){var n=t.parentNode,a=i(e.dataset.name==t.dataset.name?e:e.querySelector('[data-name="'+t.dataset.name+'"]'),r,void 0,t.ref);n.removeChild(t);n.appendChild(a)}.bind(this)}if(function e(n){var i=n.getAttribute("data-helper");if(void 0!==i&&void 0!==t["helper"+i]){var a=n.getAttribute("data-name");t["helper"+i].call(this,n,r[a+"Data"])}var d=n.getAttribute("data-repeater");null!==d&&void 0!==t.helperRepeater&&t.helperRepeater.call(this,n,r[d]),o(n);for(var s=0;s<n.children.length;s++)e(n.children[s])}(s),void 0===d&&(function(e){for(var t in this.events)e.addEventListener=e.addEventListener||e.attachEvent,e.addEventListener(t,function(e){void 0!==this[e.target.getAttribute("data-name")]&&this[e.target.getAttribute("data-name")].call(e.target,e)}.bind(this.events[t]),!1);e.addEventListener("change",function(e){var t=e.target;if(void 0!==t.dataset.bind){var n,i=t.getAttribute("type");null!=i?"text"==i||"tel"==i||"search"==i||"password"==i||"number"==i||"email"==i?n=t.value:"checkbox"==i&&(n=t.checked):"TEXTAREA"==t.nodeName?n=t.value:"SELECT"==t.nodeName&&(n=t.options[t.selectedIndex].value),t.context[t.dataset.bind][t.dataset.name]=isNaN(n)?n:Number(n)}})}.call(this,s),void 0!==this.events&&(void 0!==this.events.created&&this.events.created.call(s),void 0!==this.events.createdAsync&&setTimeout(function(){this.events.createdAsync.call(s)}.bind(this),0))),void 0===a)return s;a(s)}return{load:function(n,r){t[n.name]={},void 0!==r&&(t[n.name].init=r),setTimeout(function(){(function(t){var n=e(t.template,n,t.name);this.element=n,void 0!==t.events&&(this.events=t.events),this.render=function(e){return i.call(this,this.element,e)},this.renderAsync=function(e,t){setTimeout(function(){i.call(this,this.element,e,t)}.bind(this),0)},this.$=this.render,this.$$=this.renderAsync;var r=document.createEvent("Event");r.initEvent("ZOEReady",!0,!1),r.which=t.name,document.dispatchEvent(r)}).call(t[n.name],n)},0)},render:i}}();e.ZOE=t}(window),ZOE.helperRepeater=function(e,t){var n,i=e.children.length;for(n=0,clen=t.length;n<clen;n++)for(var r=0;r<i;r++)t[n].repeatKey=String(n),e.appendChild(ZOE.render(e.children[r],t[n]));for(n=0;n<i;n++)e.removeChild(e.firstChild)};