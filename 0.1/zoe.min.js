!function(t){var e=function(){function t(t,e){var n=document.createElement(t.element);void 0!==t.classes&&(n.className=t.classes);for(var i in t.attributes)n.setAttribute(i,t.attributes[i]);for(var i in t.dattributes)n.setAttribute("data-"+i,t.dattributes[i]);return void 0!==t.content&&(n.textContent=t.content),n.setAttribute("data-name",e),void 0!==t.helper&&n.setAttribute("data-helper",t.helper),void 0!==t.bind&&n.setAttribute("data-bind",t.bind),n}function n(e,i,r){if(i=t(e,r),void 0!==e.children)for(var a in e.children){var d=e.children[a],s=n(d,s,a);i.appendChild(s)}return i}function i(t){for(var e in this.events)t.addEventListener=t.addEventListener||t.attachEvent,t.addEventListener(e,function(t){void 0!==this[t.target.getAttribute("data-name")]&&this[t.target.getAttribute("data-name")].call(t.target,t)}.bind(this.events[e]),!1);t.addEventListener("change",function(t){var e=t.target;if(void 0!==e.dataset.bind){var n,i=e.getAttribute("type");void 0!==i&&null!==i?"text"==i||"tel"==i||"search"==i||"password"==i||"number"==i||"email"==i?n=e.value:"checkbox"==i&&(n=e.checked):"TEXTAREA"==e.nodeName?n=e.value:"SELECT"==e.nodeName&&(n=e.options[e.selectedIndex].value),e.context[e.dataset.bind][e.dataset.name]=isNaN(n)?n:Number(n)}})}function r(t,e){for(var n,i,r=t,a=0;(n=r.indexOf("@"))>-1;)a=r.indexOf(" ",n),-1===a&&(a=r.length),i=r.substring(n,a),r=r.replace(i,e[i.substring(1)]);return r}function a(t,e){void 0!==t.firstChild&&null!==t.firstChild&&3==t.firstChild.nodeType&&void 0!==t.contentTemplate&&(t.firstChild.textContent=r(t.contentTemplate,e));for(var n=0;n<t.children.length;n++)a(t.children[n],e)}function d(t,n,s,o){function c(e){if(u[e.getAttribute("data-name")]=e,e.ref=u,void 0!==n){e.context=n;var i=e.getAttribute("dsrc");if(null!==i){var s=i.indexOf("@");e.removeAttribute("dsrc"),e.setAttribute("src",i.substring(0,s)+n[i.substring(s+1)])}for(var o,c,s,l=0,v=e.attributes.length;v>l;l++)o=e.attributes[l],c=o.nodeValue,(s=c.indexOf("@"))>=0&&(o.nodeValue=c.substring(0,s)+n[c.substring(s+1)])}var h=e.firstChild;h&&void 0!==h&&3==h.nodeType&&h.textContent.indexOf("@")>-1&&void 0!==n&&(e.contentTemplate=h.textContent,h.textContent=r(h.textContent,n)),e.refresh=function(t){a(e,t)},e.rerender=function(){var i=e.parentNode,r=t.dataset.name==e.dataset.name?t:t.querySelector('[data-name="'+e.dataset.name+'"]'),a=d(r,n,void 0,e.ref),s=i.removeChild(e);i.appendChild(a),delete s}.bind(this)}function l(t){var i=t.getAttribute("data-helper");if(void 0!==i&&void 0!==e["helper"+i]){var r=t.getAttribute("data-name");e["helper"+i].call(this,t,n[r+"Data"])}c(t);for(var a=0;a<t.children.length;a++)l(t.children[a])}var v=t.cloneNode(!0);if(v.context=n,void 0===o){var u={};u.root=v}else u=o;return l(v),void 0===o&&(i.call(this,v),void 0!==this.events&&(void 0!==this.events.created&&this.events.created.call(v),void 0!==this.events.createdAsync&&setTimeout(function(){this.events.createdAsync.call(v)}.bind(this),0))),void 0===s?v:void s(v)}function s(t){var e=n(t.template,e,t.name);this.element=e,void 0!==t.events&&(this.events=t.events),this.render=function(t){return d.call(this,this.element,t)},this.renderAsync=function(t,e){setTimeout(function(){d.call(this,this.element,t,e)}.bind(this),0)},this.$=this.render,this.$$=this.renderAsync;var i=document.createEvent("Event");i.initEvent("ZOEReady",!0,!1),i.which=t.name,document.dispatchEvent(i)}return{load:function(t,n){e[t.name]={},void 0!==n&&(e[t.name].init=n),setTimeout(function(){s.call(e[t.name],t)},0)},render:d}}();t.ZOE=e}(window);